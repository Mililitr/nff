# Веб-сервис для управления движением денежных средств (ДДС)

Веб-приложение на Django для учета и управления движением денежных средств с возможностью категоризации, фильтрации и анализа финансовых операций.

## Функциональные возможности

- Учет доходов и расходов с категоризацией
- Разделение финансовых операций по статусам (Бизнес, Личное, Налог)
- Фильтрация записей по различным параметрам
- Управление справочниками (статусы, типы, категории, подкатегории)
- Динамическая зависимость между типами, категориями и подкатегориями
- Отображение суммарной статистики по доходам и расходам

## Технологии

- Python 3.8+
- Django 4.0+
- SQLite (база данных)
- Bootstrap 5 (фронтенд)
- JavaScript/jQuery (интерактивность на клиентской стороне)

## Установка и запуск

### Предварительные требования

- Python 3.8 или выше
- pip (менеджер пакетов Python)
- Git (опционально)

### Шаги по установке

1. **Клонирование репозитория** (или скачайте ZIP-архив)

```bash
https://github.com/Mililitr/nff.git
cd nff
```

2. **Создание виртуального окружения**

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/Mac
python3 -m venv venv
source venv/bin/activate
```

3. **Установка зависимостей**

```bash
pip install -r requirements.txt
```

4. **Применение миграций**

```bash
python manage.py migrate
```

5. **Загрузка начальных данных**

```bash
python manage.py loaddata cashflow/fixtures/initial_data.json
```

6. **Создание суперпользователя** (для доступа к админ-панели)

```bash
python manage.py createsuperuser
```

7. **Запуск сервера разработки**

```bash
python manage.py runserver
```

После запуска сервера приложение будет доступно по адресу [http://127.0.0.1:8000/](http://127.0.0.1:8000/)

## Структура проекта

```
cashflow_project/          # Корневая директория проекта
├── cashflow/              # Приложение для управления ДДС
│   ├── fixtures/          # Начальные данные
│   ├── migrations/        # Миграции базы данных
│   ├── templates/         # HTML-шаблоны
│   │   └── cashflow/      
│   │       ├── dictionaries/  # Шаблоны для справочников
│   │       └── ...
│   ├── admin.py           # Настройки админ-панели
│   ├── forms.py           # Формы
│   ├── models.py          # Модели данных
│   ├── urls.py            # URL-маршруты
│   └── views.py           # Представления
├── cashflow_project/      # Настройки проекта Django
│   ├── settings.py        # Настройки п��оекта
│   ├── urls.py            # Корневые URL-маршруты
│   └── ...
├── static/                # Статические файлы (CSS, JS)
├── media/                 # Загружаемые пользователем файлы
├── manage.py              # Скрипт управления Django
└── requirements.txt       # Зависимости проекта
```

## Использование приложения

### Основные функции

1. **Просмотр записей ДДС**
   - На главной странице отображается список всех записей о движении денежных средств
   - Используйте фильтры для поиска нужных записей

2. **Добавление новой записи**
   - Нажмите кнопку "Добавить запись" на главной странице
   - Заполните форму, выбрав статус, тип, категорию и подкатегорию
   - При выборе типа автоматически обновляется список доступных категорий
   - При выборе категории автоматически обновляется список доступных подкатегорий

3. **Редактирование и удаление записей**
   - Используйте соответствующие кноп��и в таблице записей

4. **Управление справочниками**
   - Перейдите на страницу "Справочники" через верхнее меню
   - Выберите нужный справочник (Статусы, Типы, Категории, Подкатегории)
   - Добавляйте, редактируйте или удаляйте элементы справочников

### Логические зависимости

В приложении реализованы следующие логические зависимости:

1. **Категории зависят от типов**
   - Каждая категория связана с определенным типом (Пополнение или Списание)
   - При создании записи ДДС, при выборе типа автоматически фильтруются доступные категории

2. **Подкатегории зависят от категорий**
   - Каждая подкатегория связана с определенной категорией
   - При создании записи ДДС, при выборе категории автоматически фильтруются доступные подкатегории

## Лицензия

MIT License
